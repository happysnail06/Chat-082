<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quotation Popup</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="popupcontainer">
    <h2>컴퓨터 견적</h2>
    <div id="quotations-container">
      <!-- 견적 1 -->
      <div class="quotation">
        <div class="image-placeholder">이미지<span id="budget-cpu"></span></div>
        <ul class="details">
          <li><strong>CPU:</strong><span id="budget-cpu"></span></li>
          <li><strong>메인보드:</strong></li>
          <li><strong>메모리:</strong><span id="budget-memory"></span></li>
          <li><strong>그래픽카드:</strong></li>
          <li><strong>케이스:</strong></li>
          <li><strong>파워:</strong></li>
          <li><strong>SSD:</strong></li>
          <li><strong>CPU 쿨러:</strong></li>
        </ul>
      </div>

      <!-- 견적 2 -->
      <div class="quotation">
        <div class="image-placeholder">이미지</div>
        <ul class="details">
          <li><strong>CPU:</strong></span></li>
          <li><strong>메인보드:</strong></li>
          <li><strong>메모리:</strong></li>
          <li><strong>그래픽카드:</strong></li>
          <li><strong>케이스:</strong></li>
          <li><strong>파워:</strong></li>
          <li><strong>SSD:</strong></li>
          <li><strong>CPU 쿨러:</strong></li>
        </ul>
      </div>

      <!-- 견적 3 -->
      <div class="quotation">
        <div class="image-placeholder">이미지</div>
        <ul class="details">
          <li><strong>CPU:</strong><span id="hcpu">아아아</span></li>
          <li><strong>메인보드:</strong></li>
          <li><strong>메모리:</strong><span id="high-performance-memory">아</span></li>
          <li><strong>그래픽카드:</strong></li>
          <li><strong>케이스:</strong></li>
          <li><strong>파워:</strong></li>
          <li><strong>SSD:</strong></li>
          <li><strong>CPU 쿨러:</strong></li>
        </ul>
      </div>
    </div>
    <button id="close-popup">닫기</button>
  </div>
  <script>
    window.addEventListener('message', (event) => {
            const data = event.data;

            // 가성비 견적 업데이트
            document.getElementById('budget-cpu').textContent = data.response["가성비"]["CPU"];
            document.getElementById('budget-memory').textContent = data["가성비"]["메모리"];
            document.getElementById('budget-gpu').textContent = data["가성비"]["그래픽카드"];
            document.getElementById('budget-motherboard').textContent = data["가성비"]["메인보드"];
            document.getElementById('budget-ssd').textContent = data["가성비"]["SSD"];
            document.getElementById('budget-power').textContent = data["가성비"]["파워"];
            document.getElementById('budget-reason').textContent = data["가성비"]["이유"];

            // 밸런스 견적 업데이트
            document.getElementById('balance-cpu').textContent = data["밸런스"]["CPU"];
            document.getElementById('balance-memory').textContent = data["밸런스"]["메모리"];
            document.getElementById('balance-gpu').textContent = data["밸런스"]["그래픽카드"];
            document.getElementById('balance-motherboard').textContent = data["밸런스"]["메인보드"];
            document.getElementById('balance-ssd').textContent = data["밸런스"]["SSD"];
            document.getElementById('balance-power').textContent = data["밸런스"]["파워"];
            document.getElementById('balance-reason').textContent = data["밸런스"]["이유"];

            // 고성능 견적 업데이트
            document.getElementById('hcpu').textContent = data["고성능"]["CPU"];
            document.getElementById('high-performance-memory').textContent = data["response"]["고성능"]["메모리"];
            document.getElementById('high-performance-gpu').textContent = data["고성능"]["그래픽카드"];
            document.getElementById('high-performance-motherboard').textContent = data["고성능"]["메인보드"];
            document.getElementById('high-performance-ssd').textContent = data["고성능"]["SSD"];
            document.getElementById('high-performance-power').textContent = data["고성능"]["파워"];
            document.getElementById('high-performance-reason').textContent = data["고성능"]["이유"];
        });

        // 닫기 버튼 클릭 시 창 닫기
        document.getElementById("close-popup").addEventListener("click", () => {
           window.close();
        });
  </script>
</body>
</html>